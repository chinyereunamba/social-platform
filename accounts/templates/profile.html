<!-- profile.html -->
{% extends "base.html" %}

{% block content %}
<div class="profile">
    <h2>{{ profile_user.username }}'s Profile</h2>
    <p>{{ profile_user.profile.bio }}</p>
    {% if profile_user.profile.profile_picture %}
        <img src="{{ profile_user.profile.profile_picture.url }}" alt="Profile Picture">
    {% endif %}
    
    {% if profile_user != user %}
        <div id="follow-container" hx-target="this">
            {% include "partials/follow_button.html" %}
        </div>
    {% endif %}
    
    <h3>Followers: <span id="follower-count">{{ followers.count }}</span></h3>
    <ul id="followers">
        {% for follower in followers %}
            <li><a href="{% url 'profile' follower.follower.username %}">{{ follower.follower.username }}</a></li>
        {% endfor %}
    </ul>
    <h3>Following: {{ following.count }}</h3>
    <ul id="following">
        {% for followed in following %}
            <li><a href="{% url 'profile' followed.followed.username %}">{{ followed.followed.username }}</a></li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
